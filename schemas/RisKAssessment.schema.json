{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CareRiskProfile",
  "type": "object",
  "description": "Zusammenstellung individueller Risikofaktoren: Gesundheits-, Sozial- und Rechtsrisiken mit Risikostufe und empfohlenen Präventionsmaßnahmen.",
  "properties": {
    "riskProfileId": {
      "type": "string",
      "description": "Eindeutige Kennung des Risikoprofils"
    },
    "clientId": {
      "type": "string",
      "description": "Kennung der betreuten Person"
    },
    "assessmentDate": {
      "type": "string",
      "format": "date",
      "description": "Datum der Risikobewertung im Format YYYY-MM-DD"
    },
    "risiken": {
      "type": "array",
      "description": "Liste individueller Risiken mit Bewertung und Gegenmaßnahmen",
      "items": {
        "$ref": "#/definitions/RiskAssessment"
      },
      "minItems": 1
    }
  },
  "required": [
    "riskProfileId",
    "clientId",
    "assessmentDate",
    "risiken"
  ],
  "additionalProperties": false,
  "definitions": {
    "RiskAssessment": {
      "type": "object",
      "title": "Risikoeinschätzung",
      "description": "Systematische Aufnahme und Bewertung potenzieller Risiken (gesundheitlich, finanziell, rechtlich).",
      "properties": {
        "risikoSzenario": {
          "type": "string",
          "title": "Risikoszenario",
          "description": "Kurze Beschreibung des potenziellen Risikos."
        },
        "eintrittswahrscheinlichkeit": {
          "type": "number",
          "title": "Eintrittswahrscheinlichkeit",
          "description": "Wahrscheinlichkeit des Eintretens (als Dezimalwert zwischen 0.0 und 1.0).",
          "minimum": 0.0,
          "maximum": 1.0
        },
        "schadensausmass": {
          "type": "string",
          "title": "Schadensausmaß",
          "description": "Einschätzung der möglichen Schadenshöhe.",
          "enum": [
            "niedrig",
            "mittel",
            "hoch"
          ]
        },
        "vorgeschlageneGegenmassnahmen": {
          "type": "array",
          "title": "Vorgeschlagene Gegenmaßnahmen",
          "description": "Maßnahmen zur Risikominimierung oder -vermeidung.",
          "items": {
            "type": "string"
          },
          "minItems": 1
        }
      },
      "required": [
        "risikoSzenario",
        "eintrittswahrscheinlichkeit",
        "schadensausmass",
        "vorgeschlageneGegenmassnahmen"
      ],
      "additionalProperties": false
    }
  }
}
